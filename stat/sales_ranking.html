<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/swiper-bundle.min.css" rel="stylesheet">
    <link href="/css/common/jquery-ui.min.css" rel="stylesheet">

    <title>출판유통통합전산망</title>
</head>

<body>

    <!-- 컨텐츠 -->
    <!--
        페이지별 구분자(클래스) 필요.
        대메뉴별 구분자.
        - 통계서비스: stat
        - 판매보고서: sales-ranking
    -->
    <main id="main" class="stat sales-ranking bg-white">

        <div class="menu-title-box py-4 py-xl-5">
            <div class="container">
                <h1 class="menu-title mb-0 text-center py-2">
                    <a href="#">판매통계</a>
                </h1>
            </div>
        </div>

        <div class="tabs-wrapper px-3 px-xl-0 mb-4 mb-xl-5">
            <div class="container">
                <ul class="tabs d-flex mb-0 list-unstyled flex-wrap">
                    <li><a class="px-2 d-flex align-items-center justify-content-center text-center text-decoration-none" href="./sales_report.html">판매보고서</a></li>
                    <li><a class="px-2 d-flex align-items-center justify-content-center text-center text-decoration-none" href="./sales_amount.html">주제분류별 <br class="d-inline d-sm-none">판매량 통계</a></li>
                    <li><a class="active px-2 d-flex align-items-center justify-content-center text-center text-decoration-none" href="./sales_ranking.html">주제분류별 <br class="d-inline d-sm-none">판매량 순위</a></li>
                </ul>    
            </div>
        </div>

        <div class="categories-wrapper px-3 px-xl-0 mb-4 mb-xl-5">
            <div class="container">
                <ul class="categories book-type mb-0 list-unstyled d-flex flex-wrap p-2">
                    <li><a class="active d-flex align-items-center p-2" href="#">전체</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">예술</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">언어, 언어학</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">인물, 문학, 문학연구</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">소설 및 연관 상품</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">참고서적, 정보, 학제적 주제</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">사회, 사회과학</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">경제, 재무, 비즈니스, 경영</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">법</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">의학, 간호학</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">역사, 고고학</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">수학, 과학</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">철학, 종교</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">지구과학, 지리, 환경, 지역계획</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">스포츠, 아웃도어활동</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">기술, 공학, 농축산업, 산업공정</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">컴퓨터, 정보기술</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">건강, 인간관계, 개인발전</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">생활, 취미, 레저</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">그래픽노블, 만화</a></li>
                    <li><a class="d-flex align-items-center p-2" href="#">어린이, 청소년, 학습</a></li>
                </ul>
            </div>
        </div>

        <div class="search-wrapper px-3 px-xl-0 mb-4 mb-xl-5">
            <div class="container">
                <form action="#" class="search-form">
                    <div class="fieldset search-type">
                        <legend class="search-title">구분</legend>
                        <div class="radio-group">
                            <label class="radio">
                                <input class="visually-hidden" type="radio" name="search-type" value="subject" checked><i></i><span>도서유형별</span>
                            </label>
                            <label class="radio">
                                <input class="visually-hidden" type="radio" name="search-type" value="channel"><i></i><span>판매채널별</span>
                            </label>
                        </div>
                    </div>
                    <div class="fieldset search-period">
                        <legend class="search-title">조회기간</legend>
                        <div class="period-group">
                            <input class="form-control shadow-none" type="month" name="month" value="" pattern="[0-9]{4}-[0-9]{2}">
                        </div>
                    </div>
                    <div class="fieldset view-type subject show">
                        <legend class="search-title">도서유형</legend>
                        <div class="checkbox-group">
                            <label class="checkbox">
                                <input class="visually-hidden" type="checkbox" name="subject-view-type" value="pbook" checked><i></i><span>종이책</span>
                            </label>
                            <label class="checkbox">
                                <input class="visually-hidden" type="checkbox" name="subject-view-type" value="ebook"><i></i><span>전자책</span>
                            </label>
                            <label class="checkbox">
                                <input class="visually-hidden" type="checkbox" name="subject-view-type" value="obook"><i></i><span>오디오북</span>
                            </label>
                        </div>
                    </div>
                    <div class="fieldset view-type channel">
                        <legend class="search-title">도서유형</legend>
                        <div class="checkbox-group">
                            <label class="checkbox">
                                <input class="visually-hidden" type="checkbox" name="channel-view-type" value="pc" checked><i></i><span>온라인(PC)</span>
                            </label>
                            <label class="checkbox">
                                <input class="visually-hidden" type="checkbox" name="channel-view-type" value="mobile"><i></i><span>온라인(모바일)</span>
                            </label>
                            <label class="checkbox">
                                <input class="visually-hidden" type="checkbox" name="channel-view-type" value="offline"><i></i><span>오프라인(매장)</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-btn-group">
                        <button type="submit" class="btn btn-search shadow-none">검색</button>
                    </div>
                </form>
            </div>
        </div>

        <section class="book-list-wrapper px-3 px-xl-0 mb-3">
            <div class="container">
                <header>
                    <h4>주제분류별 월간판매량 Top50</h4>
                    <div class="unit">
                        (단위: 부수)
                    </div>
                </header>
                <div class="book-grid-list">
                    <ul class="mb-0 list-unstyled">
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                        <li>/components/book_grid_item.html</li>
                    </ul>
                </div>
            </div>
        </section>

        <div class="standard-data-wrapper px-3 px-xl-0">
            <div class="container">
                <section class="standard-data">
                    <h4>데이터 기준</h4>
                    <ul class="time list-unstyled">
                        <li>당일 오전 10시 이전 확인 시 2일 전 판매 데이터까지 확인 가능</li>
                        <li>당일 오전 10시 이후 확인 시 1일 전 판매 데이터까지 확인 가능</li>
                    </ul>
                    <ul class="note list-unstyled">
                        <li>해당 데이터는 교보문고, 알라딘, 영풍문고, 예스이십사, 지역서점과 연계되어 있습니다. (예스이십사, 알라딘의 경우: '21년 8월까지는 일부, '21년 9월부터는 전체 데이터 반영)</li>
                        <li>현재는 종이책만 판매 통계를 확인할 수 있으며, 전자책 및 오디북은 추후 공개 예정입니다.</li>
                        <li>도서정보(메타데이터)가 등록되지 않은 도서는 표지 및 도서상세정보 확인이 불가합니다.</li>
                    </ul>
                </section>
            </div>
        </div>

    </main>

    <!-- 퍼블리싱용 JS -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="/js/template.sub.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', function() {
            // 책 리스트에 항목 추가(그리드 타입)
            const bookGridList = document.querySelectorAll('.book-grid-list li')
            if (bookGridList.length > 0) {
                axios.get('/components/book_grid_item.html')
                .then(res => {
                    bookGridList.forEach(li => {
                        li.innerHTML = res.data
                    })
                });
            }
        });
    </script>
    
    <!-- 공통 JS -->
    <script src="https://bnk.kpipa.or.kr/home/v3/js/common/moment.min.js"></script>

    <!-- 페이지 JS -->
    <script>
        window.addEventListener('DOMContentLoaded', function() {
            var searchFormEl = document.querySelector('.search-form');

            // 폼에 기본값 출력
            searchFormEl.elements['month'].value = moment().format('YYYY-MM');

            searchFormEl.elements['search-type'].forEach(radio => {
                radio.addEventListener('click', function() {
                    searchFormEl.querySelectorAll('.view-type').forEach(viewType => {
                        viewType.classList.remove('show')
                    })
                    searchFormEl.querySelector('.view-type.'+searchFormEl.elements['search-type'].value).classList.add('show')
                })
            })
        });
    </script>
</body>

</html>